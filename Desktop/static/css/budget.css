/* Budget Management Specific Styles */

/* Budget Flow Visualization */
.budget-flow-step {
    padding: 1rem;
    text-align: center;
}

.budget-flow-amount {
    font-size: 1.5rem;
    font-weight: bold;
    margin-bottom: 0.5rem;
}

.budget-flow-label {
    font-size: 0.9rem;
    color: var(--text-muted);
    margin-bottom: 0.25rem;
}

.budget-flow-status {
    font-size: 0.8rem;
    font-weight: 500;
}

/* Budget Table Styles */
.budget-row:hover {
    background-color: var(--primary-dim);
}

.budget-table-container {
    overflow-x: auto;
}

.budget-edit-mode .monthly-budget-display {
    display: none !important;
}

.budget-edit-mode .monthly-budget-edit {
    display: block !important;
}

/* Budget Status Badges */
.budget-status-over {
    background-color: var(--danger) !important;
}

.budget-status-under {
    background-color: var(--success) !important;
}

.budget-status-on-track {
    background-color: var(--primary) !important;
}

.budget-status-no-budget {
    background-color: var(--text-muted) !important;
}

/* Budget Analysis Cards */
.budget-analysis-card {
    border-left: 4px solid var(--primary);
    background: linear-gradient(135deg, var(--primary-dim) 0%, var(--primary-dim) 100%);
}

.budget-analysis-card.over-budget {
    border-left-color: var(--danger);
    background: linear-gradient(135deg, color-mix(in srgb, var(--danger) 6%, transparent) 0%, color-mix(in srgb, var(--danger) 6%, transparent) 100%);
}

.budget-analysis-card.under-budget {
    border-left-color: var(--success);
    background: linear-gradient(135deg, color-mix(in srgb, var(--success) 6%, transparent) 0%, color-mix(in srgb, var(--success) 6%, transparent) 100%);
}

/* Budget Management Forms */
.budget-template-form {
    background: color-mix(in srgb, var(--surface) 90%, transparent);
    border-radius: 10px;
    padding: 1rem;
    margin-bottom: 1rem;
}

.unexpected-expense-form {
    background: color-mix(in srgb, var(--warning) 10%, transparent);
    border: 1px solid color-mix(in srgb, var(--warning) 30%, transparent);
    border-radius: 10px;
    padding: 1rem;
}

/* Budget Chart Styles */
.budget-chart-legend {
    display: flex;
    justify-content: center;
    gap: 1rem;
    margin-top: 1rem;
}

.budget-chart-legend-item {
    display: flex;
    align-items: center;
    gap: 0.5rem;
    font-size: 0.9rem;
}

.budget-chart-legend-color {
    width: 12px;
    height: 12px;
    border-radius: 2px;
}

/* Budget Summary Grid */
.budget-summary-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
    gap: 1rem;
    margin-bottom: 2rem;
}

/* Unexpected Expenses Section */
.unexpected-expenses-section {
    background: color-mix(in srgb, var(--warning) 6%, transparent);
    border-radius: 15px;
    padding: 1.5rem;
    border: 1px solid color-mix(in srgb, var(--warning) 30%, transparent);
}

.unexpected-expense-item {
    background: var(--surface);
    border-radius: 8px;
    padding: 1rem;
    margin-bottom: 0.5rem;
    border-left: 4px solid var(--warning);
    box-shadow: 0 2px 4px rgba(0, 0, 0, 0.05);
}

.unexpected-expense-item:last-child {
    margin-bottom: 0;
}

/* Budget Loading States */
.budget-loading {
    text-align: center;
    padding: 2rem;
    color: var(--text-muted);
}

.budget-loading .spinner-border {
    margin-bottom: 1rem;
}

/* Budget Variance Indicators */
.variance-positive {
    color: var(--success);
    font-weight: bold;
}

.variance-negative {
    color: var(--danger);
    font-weight: bold;
}

.variance-neutral {
    color: var(--text-muted);
    font-weight: normal;
}

/* Responsive Budget Styles */
@media (max-width: 768px) {
    .budget-flow-step {
        padding: 0.5rem;
        margin-bottom: 1rem;
    }

    .budget-flow-amount {
        font-size: 1.2rem;
    }

    .budget-summary-grid {
        grid-template-columns: 1fr;
    }

    .budget-table-container {
        font-size: 0.9rem;
    }

    .budget-table-container th,
    .budget-table-container td {
        padding: 0.5rem 0.25rem;
    }
}

/* ── Tab navigation ───────────────────────────────────── */
.bgt-tab-nav {
    display:flex; gap:4px; padding:14px 18px 0;
    border-bottom:1px solid var(--border-subtle);
}
.bgt-tab-btn {
    padding:7px 16px; border-radius:8px 8px 0 0;
    border:1px solid transparent; border-bottom:none;
    background:transparent; color:var(--text-muted);
    font-size:13px; font-weight:500; cursor:pointer;
    transition:all 0.15s ease; user-select:none;
    position:relative; bottom:-1px;
}
.bgt-tab-btn:hover { color:var(--text); background:var(--surface-raised); }
.bgt-tab-btn.active {
    background:var(--surface); color:var(--primary);
    border-color:var(--border-subtle); border-bottom-color:var(--surface);
    font-weight:600;
}

/* ── Subcategory budget group ─────────────────────────── */
.bgt-subcategory-group {
    border:1px solid var(--border-subtle); border-radius:10px;
    margin-bottom:10px; overflow:hidden;
}
.bgt-subcategory-group-header {
    display:flex; align-items:center; justify-content:space-between;
    padding:10px 14px; background:var(--surface-raised);
    border-bottom:1px solid var(--border-subtle);
}
.bgt-subcategory-group-title {
    display:flex; align-items:center; gap:8px;
    font-size:13.5px; font-weight:600; color:var(--text);
}
.bgt-subcategory-group-total {
    font-size:12px; font-weight:400; color:var(--text-muted);
}
.bgt-subcategory-group-actions { display:flex; align-items:center; gap:10px; }

.bgt-subcategory-row {
    display:flex; align-items:center; gap:12px;
    padding:8px 14px; border-bottom:1px solid var(--border-subtle);
    background:var(--surface);
}
.bgt-subcategory-row:last-child { border-bottom:none; }
.bgt-subcategory-row:hover { background:var(--surface-raised); }
.bgt-sub-name {
    flex:0 0 180px; font-size:13px; font-weight:500; color:var(--text);
    white-space:nowrap; overflow:hidden; text-overflow:ellipsis;
}
.bgt-sub-min { font-size:11px; color:var(--text-faint); display:block; margin-top:2px; }
.bgt-notes-input { flex:1; min-width:0; }
.bgt-sub-actions { display:flex; gap:4px; flex-shrink:0; }

/* ── Category-level info box ──────────────────────────── */
.bgt-info-box {
    background:var(--primary-dim); border-left:3px solid var(--primary);
    padding:8px 12px; font-size:12.5px; color:var(--text-muted);
    margin:0 14px 10px;
}

/* ── Commitment item ──────────────────────────────────── */
.bgt-commitment-item {
    display:flex; align-items:center; gap:16px;
    padding:12px 16px; border-radius:10px;
    border:1px solid var(--border-subtle);
    border-left:4px solid var(--success);
    background:var(--surface); margin-bottom:8px;
}
.bgt-commitment-item.variable { border-left-color:var(--primary); }
.bgt-commitment-main { flex:1; min-width:0; }
.bgt-commitment-name {
    display:block; font-size:13.5px; font-weight:600;
    color:var(--text); margin-bottom:2px;
}
.bgt-commitment-meta { font-size:12px; color:var(--text-muted); }
.bgt-commitment-amount {
    font-size:15px; font-weight:700; color:var(--primary); white-space:nowrap; flex-shrink:0;
}
.bgt-commitment-date { font-size:12px; color:var(--text-faint); flex-shrink:0; }
.bgt-commitment-actions { display:flex; gap:4px; flex-shrink:0; }

/* ── Badges ───────────────────────────────────────────── */
.bgt-badge {
    display:inline-block; padding:2px 8px; border-radius:5px;
    font-size:11px; font-weight:600; white-space:nowrap;
}
.bgt-badge-fixed   { background:color-mix(in srgb,var(--success) 15%,transparent); color:var(--success); }
.bgt-badge-variable { background:var(--primary-dim); color:var(--primary); }
.bgt-badge-due     { background:var(--surface-raised); color:var(--text-muted); border:1px solid var(--border); }
.bgt-badge-group   { display:flex; gap:4px; flex-shrink:0; }

/* ── Confidence badges ────────────────────────────────── */
.bgt-confidence-high   { background:color-mix(in srgb,var(--success) 15%,transparent); color:var(--success); }
.bgt-confidence-medium { background:color-mix(in srgb,var(--warning) 15%,transparent); color:var(--warning); }
.bgt-confidence-low    { background:color-mix(in srgb,var(--danger) 15%,transparent); color:var(--danger); }

/* ── Toast ────────────────────────────────────────────── */
.bgt-toast {
    position:fixed; top:16px; right:16px; z-index:9999;
    padding:11px 18px; border-radius:9px; font-size:13.5px; font-weight:500;
    box-shadow:0 4px 16px rgba(0,0,0,0.15); animation:fadeIn 0.2s ease;
}
.bgt-toast.success {
    background:color-mix(in srgb,var(--success) 12%,var(--surface));
    border:1px solid var(--success); color:var(--success);
}
.bgt-toast.error {
    background:color-mix(in srgb,var(--danger) 12%,var(--surface));
    border:1px solid var(--danger); color:var(--danger);
}

/* ── Table total row ──────────────────────────────────── */
.bgt-table-total td { background:var(--primary-dim); font-weight:600; color:var(--text); }

/* ── Empty state ──────────────────────────────────────── */
.bgt-empty-state {
    text-align:center; padding:48px 24px;
    color:var(--text-muted); font-size:13.5px;
}

/* ── Data table (mirrors anl-table; analytics.css not loaded here) ── */
.anl-table { width:100%; border-collapse:collapse; font-size:13.5px; }
.anl-table th {
    font-size:11px; font-weight:600; text-transform:uppercase;
    letter-spacing:0.5px; color:var(--text-faint); padding:8px 12px;
    border-bottom:1px solid var(--border); background:var(--surface);
    position:sticky; top:0; white-space:nowrap;
}
.anl-table td {
    padding:9px 12px; border-bottom:1px solid var(--border-subtle);
    color:var(--text); vertical-align:middle;
}
.anl-table tbody tr:last-child td { border-bottom:none; }
.anl-table tbody tr:hover td { background:var(--surface-raised); }
.anl-positive { color:var(--success); font-weight:600; }
.anl-negative { color:var(--danger); font-weight:600; }
.anl-neutral  { color:var(--text-faint); }
.anl-info-box {
    background:var(--primary-dim); border-left:3px solid var(--primary);
    padding:10px 14px; border-radius:0 6px 6px 0;
    font-size:13px; color:var(--text-muted); margin-bottom:12px;
}
